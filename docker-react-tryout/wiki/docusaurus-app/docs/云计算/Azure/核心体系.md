---
id: 核心体系
title: 核心体系
sidebar_position: 1
data: 2022年4月14日
---

## 订阅、管理组和资源概述

![Screenshot of the hierarchy for objects in Azure.](https://static.7wate.com/img/2022/04/14/a3efa41c4629a.png)

- **资源**：资源是你创建的服务的实例，如虚拟机、存储或 SQL 数据库。
- **资源组**：资源合并成为资源组，资源组充当在其中部署和管理 Azure 资源（如 Web 应用、数据库和存储帐户）的逻辑容器。
- **订阅**：订阅将用户帐户和这些用户帐户创建的资源组合在一起。 对于每个订阅，你可以创建和使用的资源量有限制或配额。 组织可以使用订阅来管理成本，或者由用户、团队或项目创建的资源。
- **管理组**：这些组有助于你管理多个订阅的访问、策略和合规性。 管理组中的所有订阅都会自动继承应用于管理组的条件。

## 区域、可用性区域和区域对

资源是在“区域”中创建的，这些区域是指包含 Azure 数据中心的全球不同地理位置。

Azure 由遍布全球的数据中心组成。 使用服务或创建资源（如 SQL 数据库或虚拟机 (VM)）时，会使用其中一个或多个位置的物理设备。 这些特定数据中心不会直接向用户公开。 Azure 会将它们组织到区域中。

### 区域

![Global map of available Azure regions as of June 2020.](https://static.7wate.com/img/2022/04/14/f1896fab6d486.png)

区域是指地球上的某个地理区域，包含至少一个（但很可能是多个）数据中心，这些数据中心彼此相邻并通过一个低延迟的网络相互连接。 Azure 智能地分配和控制每个区域内的资源，以确保适当平衡工作负载。

某些服务或 VM 功能（例如特定的 VM 大小或存储类型）仅在特定区域提供。 也有一些全球性 Azure 服务不需要用户选择特定的区域，例如 Azure Active Directory、Azure 流量管理器和 Azure DNS。

### 区域的重要性

Azure 拥有的全球区域数量比其他任何云提供商都要多。 通过这些区域，无论用户身在何处，你都能够有效灵活地缩短应用程序与用户之间的距离。 全球区域提供更好的可伸缩性和冗余。 它们还为服务保留数据驻留。

### 特殊区域

- **US DoD 中部、US Gov 弗吉尼亚州、US Gov 爱荷华州等区域：**这些区域是适用于美国政府机构和合作伙伴的 Azure 物理和逻辑网络隔离实例。 这些数据中心由甄选出来的美国公民运作，并包括其他合规性认证。
- **中国东部、中国北部等区域：**这些区域在 Microsoft 和 21Vianet 达成唯一合作关系之后可供用户使用，通过这种合作关系，Microsoft 就无需直接维护相关数据中心。

## 可用性区域

为确保服务和数据是冗余的，以便在发生故障时能够保护信息。 托管基础结构时，设置自己的冗余需要创建重复的硬件环境。 Azure 可以通过可用性区域帮助实现应用的高可用性。

### 什么是可用性区域？

可用性区域是 Azure 区域中的物理上独立的数据中心。 每个可用性区域都由一个或多个数据中心组成，这些数据中心都配置了独立电源、冷却和网络。 可用性区域被设置为隔离边界。 如果一个区域出现故障，其他区域会继续正常工作。 可用性区域通过高速专用光纤网络相连。

![Diagram showing three datacenters connected in a single Azure region representing an availability zone.](https://static.7wate.com/img/2022/04/14/e0484447281c8.png)

### 支持的区域

并非每个区域都支持可用性区域。 有关更新列表，请参阅 [Azure 中支持可用性区域的区域](https://docs.microsoft.com/zh-CN/azure/availability-zones/az-region)。

### 在应用中使用可用性区域

可以使用可用性区域运行任务关键型应用程序，并在应用程序体系结构中内置高可用性，方法为：将计算、存储、网络和数据资源共置在一个区域并将其复制到其他区域。 请记住，在区域之间复制服务和传输数据可能会产生费用。

可用性区域主要用于 VM、托管磁盘、负载均衡器和 SQL 数据库。 支持可用性区域的 Azure 服务分为两类：

- **区域性服务**：将资源（例如 VM、托管磁盘和 IP 地址）固定到特定的区域。
- **区域冗余服务**：平台自动跨区域复制（例如区域冗余存储和 SQL 数据库）。
- 非地理区域服务：服务始终从 Azure 地理位置提供，可以灵活应对局部区域和地理区域范围的服务中断。

## 区域对

可用性区域是使用一个或多个数据中心创建的。 单个区域内最少有三个地区。 一场大灾难可能会引发足够严重的中断，甚至影响到两个数据汇中心。 这就是 Azure 还要创建区域对的原因。

### 什么是区域对？

在同一地域内，每个 Azure 区域始终与至少距其 300 英里外的（例如美国、欧洲或亚洲）另一区域配对。 此方法适用于跨地域复制资源（例如 VM 存储），有助于减少因自然灾害、社会动乱、电力中断或物理网络中断等事件（同时影响两个区域）造成服务中断的可能性。 例如，如果一个区域对中的某个区域受到自然灾害，则服务会自动故障转移到其区域对中的其他区域。

![Diagram showing relationship between geography, region pair, region, and datacenter.](https://static.7wate.com/img/2022/04/14/8e91b10f8f0ef.png)

由于区域对是直接相连的，并且距离足够远，能够与区域性灾难相隔离，因此可以使用它们来提供可靠的服务和数据冗余。 某些服务使用区域对提供自动异地冗余存储。

区域对的其他优点：

- 如果发生大规模 Azure 服务中断，则优先考虑每个区域对中的一个区域，确保针对该区域对中托管的应用程序尽快恢复至少一个区域。
- 对配对区域逐一进行计划内 Azure 更新，以尽量减少停机时间并降低应用程序中断风险。
- 出于税务和执法管辖权方面的考虑，数据仍以配对的形式驻留在同一地域内（巴西南部除外）。
